(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7198:function(e,t,r){Promise.resolve().then(r.bind(r,4038))},4038:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var a=r(7437),n=r(1827),s=r(2265),o=r(2218),i=r(7440);let l=(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:r}),t),...n})}var c=r(9375);function u(e){let{children:t,className:r}=e;return(0,a.jsx)("h1",{className:(0,i.cn)("scroll-m-20 text-6xl font-extrabold tracking-tight lg:text-8xl",r),children:t})}var p=r(3476),f=r(7114);function m(){var e;let{data:t}=(0,f.Z)({}),r=5*Math.floor((null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0)/5);return(0,a.jsxs)(n.E.div,{className:"px-4 mt-20 md:h-[40vh] h-[65vh] flex justify-center items-center flex-col md:mb-16 overflow-hidden w-[100vw] text-center",initial:{scale:0},animate:{scale:1},children:[(0,a.jsxs)(d,{className:"px-4 py-2 mb-10",children:[" ",(0,a.jsxs)(c.Z,{children:["Pi\xf9 di ",r," video..."]})]}),(0,a.jsx)(u,{className:"text-4xl md:text-6xl",children:"Videoteca Visori 360\xba"}),(0,a.jsxs)(p.Z,{className:"px-5 2xl:px-[30%] text-sm md:px-14 md:text-lg text-muted-foreground",children:["Benvenuto nella Videoteca 360\xb0 dell'I.T.I.S. G. Vallauri di Velletri. Qui, potrai scegliere tra una vasta gamma di contenuti selezionati con cura e immergerti nella visione attraverso la realt\xe0 virtuale."," "]})]})}function x(e){let{children:t,className:r}=e;return(0,a.jsx)("h2",{className:(0,i.cn)("pb-2 text-3xl font-semibold tracking-tight scroll-m-20 first:mt-0",r),children:t})}var h=r(495),g=r(6013),j=r(837),b=r(4344),v=r(9229),y=r(3807),N=r(7135),w=r(9662);function S(e){let{link:t}=e,{Canvas:r}=(0,w.y)();return(0,a.jsx)(r,{text:t,options:{errorCorrectionLevel:"M",margin:3,scale:4,width:300}})}var k=r(592),C=r(2286);let E=s.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,a.jsxs)(C.fC,{ref:t,className:(0,i.cn)("relative ",r),...s,children:[(0,a.jsx)(C.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,a.jsx)(T,{}),(0,a.jsx)(C.Ns,{})]})});E.displayName=C.fC.displayName;let T=s.forwardRef((e,t)=>{let{className:r,orientation:n="vertical",...s}=e;return(0,a.jsx)(C.gb,{ref:t,orientation:n,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...s,children:(0,a.jsx)(C.q4,{className:"relative flex-1 rounded-full bg-border"})})});T.displayName=C.gb.displayName;var z=r(7138);function Z(e){let{title:t,author:r,link:n,description:s,language:o}=e;return(0,a.jsxs)(j.cZ,{className:"md:w-[860px]",children:[(0,a.jsxs)(j.fK,{className:"max-w-[360px] md:max-w-[860px]",children:[(0,a.jsx)(j.$N,{children:t}),(0,a.jsxs)(p.Z,{className:"!mt-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Canale"})," ",r]}),(0,a.jsxs)(p.Z,{children:[(0,a.jsx)("span",{className:"font-bold",children:"Lingua"})," ",o[0].toUpperCase()+o.slice(1)]})]}),(0,a.jsxs)(j.Be,{className:"text-foreground max-h-[60vh] overflow-y-auto",children:[(0,a.jsx)(E,{className:"max-w-[360px] md:max-w-[860px] max-h-[30vh] overflow-y-auto scrollbar-hide",children:(0,a.jsx)(p.Z,{children:s})}),(0,a.jsx)(b.Z,{className:"my-4"}),(0,a.jsxs)(z.default,{href:n,className:(0,i.cn)((0,h.d)(),"flex items-center justify-between p-2 m-auto mb-0 rounded-sm gap-2 bg-primary w-fit text-slate-100"),children:[" ",(0,a.jsx)(p.Z,{children:"Guarda il video"}),(0,a.jsx)(v.Z,{})]}),(0,a.jsx)(y.Z,{className:"m-auto mb-1 -mt-2 rotate-180 fill-primary hover:fill-primary/90 ",strokeWidth:0}),(0,a.jsx)("div",{className:"m-auto w-[316px] border-8 rounded-sm border-primary mb-8 ",children:(0,a.jsx)(S,{link:n})}),(0,a.jsx)(N._,{htmlFor:"link",children:(0,a.jsx)(p.Z,{className:"mb-2 text-center",children:"Scansiona il QR code oppure copia il link:"})}),(0,a.jsx)(k.Z,{link:n})]})]})}var R=r(6648);function I(e){let{title:t,description:r,duration:n,author:s,link:o,thumbnail:i,language:l}=e;return(0,a.jsxs)(j.Vq,{modal:!0,children:[(0,a.jsx)(g.Zb,{className:"relative border group bg-card w-[360px] m-auto",children:(0,a.jsxs)("div",{className:"w-full rounded-lg bg-gradient-to-r from-red-900 via-red-500 to-orange-500 p-[0px]",children:[(0,a.jsx)(g.Ol,{className:"relative p-0",children:(0,a.jsx)(R.default,{src:i,height:0,width:360,alt:"Movie image",className:"w-[360px]  h-[203px] object-cover bg-center rounded-t-lg group-hover:opacity-50"})}),(0,a.jsx)("div",{className:"absolute bottom-0 w-full  h-[203px] rounded-lg opacity-0 transition-all duration-300 group-hover:opacity-100 bg-muted/80",children:(0,a.jsxs)(g.aY,{className:"flex flex-col justify-between h-full p-4 rounded-t-lg bg-muted/80",children:[(0,a.jsxs)(g.SZ,{className:"mb-4 text-justify text-muted-foreground",children:[r.split(" ").slice(0,30).join(" ")," "]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-0 bg-muted/95",children:[(0,a.jsx)(j.hg,{asChild:!0,children:(0,a.jsx)(h.z,{children:"Guarda"})}),(0,a.jsxs)(p.Z,{className:"!mt-0",children:[(0,a.jsx)("span",{className:"font-bold",children:"Durata"})," ",n]})]})]})}),(0,a.jsx)(g.eW,{className:"flex flex-wrap items-center justify-between p-4 rounded-b-lg bg-muted border-t-slate-200",children:(0,a.jsx)(g.ll,{className:"overflow-hidden text-xl font-semibold whitespace-nowrap",children:t})})]})}),(0,a.jsx)(Z,{title:t,link:o,description:r,author:s,language:l,thumbnail:i,duration:n})]})}function _(e){let{selected:t,videos:r}=e;return 0!==r.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{className:"mt-12 mb-2 text-center md:mt-24 first-letter:capitalize",children:"all"!==t.subject?t.subject:"Tutte le materie"}),(0,a.jsxs)("div",{className:"mt-0 border-b-2 bg-secondary/80",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4 w-[85%] h-16 m-auto",children:(0,a.jsx)(x,{className:"pb-0 text-lg first-letter:capitalize md:text-2xl",children:"all"!==t.topic?t.topic:"Tutti i argomenti"})}),(0,a.jsx)("div",{className:"grid md:grid-cols-[repeat(auto-fill,minmax(360px,1fr))] gap-y-4  m-auto",children:r.map((e,t)=>(0,a.jsx)(I,{...e},t))})]})]}):(0,a.jsx)(c.Z,{className:"mt-24 mb-2 text-center text-destructive first-letter:capitalize",children:"Nessun video trovato"})}var O=r(9573),Y=r(4867),V=r(8398),P=r(7071);let U=P.zt,A=P.fC,D=P.xz,G=s.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...s}=e;return(0,a.jsx)(P.VY,{ref:t,sideOffset:n,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})});function L(e){let{children:t,text:r}=e;return(0,a.jsx)(U,{delayDuration:200,children:(0,a.jsxs)(A,{children:[(0,a.jsx)(D,{asChild:!0,children:t}),(0,a.jsx)(G,{className:"rotate-0",children:r})]})})}function M(e){let{subjects:t,topics:r,selected:n,setSelected:o}=e,[l,d]=(0,s.useState)({subj:!1,topic:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{className:"mt-40 mb-8 text-center",children:"Cerca video nella videoteca"}),(0,a.jsxs)("div",{className:"m-auto md:space-x-2 md:items-center md:justify-center md:flex  gap-y-4 md:w-[80%] max-w-screen-md mb-4 grid justify-center",children:[(0,a.jsxs)(O.J2,{open:l.subj,onOpenChange:e=>d({...l,subj:e}),children:[(0,a.jsx)(O.xo,{asChild:!0,children:(0,a.jsxs)(h.z,{variant:"outline",role:"combobox","aria-expanded":l.subj,className:"w-[250px]  justify-between rounded-xl",children:["all"!==n.subject?function(){let e=t.find(e=>e===n.subject);return e&&e[0].toUpperCase()+e.slice(1)}():"Seleziona la materia...",(0,a.jsx)(Y.jnn,{className:"w-4 h-4 ml-2 opacity-50 shrink-0"})]})}),(0,a.jsx)(O.yk,{className:"w-[250px] p-0 rounded-lg",children:(0,a.jsxs)(V.mY,{children:[(0,a.jsx)(V.sZ,{placeholder:"Seleziona la materia...",className:"h-9"}),(0,a.jsx)(V.rb,{children:"Nessuna materia trovata..."}),(0,a.jsxs)(V.fu,{children:[t.map(e=>(0,a.jsxs)(V.di,{value:e,onSelect:e=>{d({...l,subj:!1}),e!==n.subject&&o({...n,subject:e})},children:["all"===e?"Tutte le materie":e[0].toUpperCase()+e.slice(1),(0,a.jsx)(Y.nQG,{className:(0,i.cn)("ml-auto h-4 w-4",n.subject===e||"all"===n.subject&&"all"===e?"opacity-100":"opacity-0")})]},e)),(0,a.jsx)(V.e8,{})]})]})})]}),(0,a.jsxs)(O.J2,{open:l.topic,onOpenChange:e=>d({...l,topic:e}),children:[(0,a.jsx)(O.xo,{asChild:!0,children:(0,a.jsxs)(h.z,{variant:"outline",role:"combobox","aria-expanded":l.topic,className:"w-[250px] justify-between rounded-xl",children:["all"!==n.topic?function(){let e=r.get(n.subject);if(!e)return n.topic;for(let t of e)if(t===n.topic)return t[0].toUpperCase()+t.slice(1);return n.topic[0].toUpperCase()+n.topic.slice(1)}():"Seleziona l'argomento...",(0,a.jsx)(Y.jnn,{className:"w-4 h-4 ml-2 opacity-50 shrink-0"})]})}),(0,a.jsx)(O.yk,{className:"w-[250px] p-0 rounded-lg",children:(0,a.jsxs)(V.mY,{children:[(0,a.jsx)(V.sZ,{placeholder:"Seleziona  l'argomento...",className:"h-9"}),(0,a.jsxs)("div",{className:"max-h-[150px] overflow-y-scroll",children:[(0,a.jsx)(V.rb,{children:"Nessun argomento trovato..."}),(0,a.jsx)(V.fu,{children:(0,a.jsxs)(V.di,{value:"all",onSelect:()=>{d({...l,topic:!1}),o({...n,topic:"all"})},children:["Tutti gli argomenti",(0,a.jsx)(Y.nQG,{className:(0,i.cn)("ml-auto h-4 w-4","all"===n.topic?"opacity-100":"opacity-0")})]})}),[...r.keys()].map(e=>{var t;return(n.subject===e||"all"===n.subject)&&(0,a.jsx)(V.fu,{heading:e[0].toUpperCase()+e.slice(1),children:[...(null===(t=r.get(e))||void 0===t?void 0:t.values())||[]].map(t=>(0,a.jsxs)(V.di,{value:t,onSelect:t=>{d({...l,topic:!1}),t!==n.topic&&o({subject:e,topic:t})},children:[t[0].toUpperCase()+t.slice(1),(0,a.jsx)(Y.nQG,{className:(0,i.cn)("ml-auto h-4 w-4",n.topic===t?"opacity-100":"opacity-0")})]},t))},e)}),(0,a.jsx)(V.e8,{})]})]})})]}),(0,a.jsx)(L,{text:"Cancella i filtri",children:(0,a.jsx)(h.z,{className:"rounded-xl",onClick:()=>{o({subject:"all",topic:"all"})},children:(0,a.jsx)(Y.X5P,{})})})]})]})}function F(e){let{videos:t,subjs:r,topics:n,selected:s,setSelected:o,loading:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{subjects:r,topics:n,selected:s,setSelected:o}),(0,a.jsx)(_,{selected:s,videos:null!=t?t:[]})]})}G.displayName=P.VY.displayName;var H=r(1250),Q=r(2874),W=r(9745);let $=e=>{let{topic:t,subject:r}=e,a=new URLSearchParams;return"all"!==t&&a.append("argomento",t),"all"!==r&&a.append("materia",r),a.toString()};function B(){let[e,t]=(0,s.useState)({subject:"all",topic:"all"}),{videos:r,subjs:n,topics:o,loading:i,error:l}=function(e){let{data:t,error:r,loading:a}=(0,f.Z)({query:e}),{data:n,error:s,loading:o}=(0,H.Z)(),{data:i,error:l,loading:d}=(0,Q.Z)();return{videos:t,subjs:n,topics:i,error:r||s||l,loading:a||o||d}}($(e));return(0,a.jsxs)(W.default,{children:[(0,a.jsx)(m,{}),!i&&l&&(0,a.jsx)(c.Z,{className:"text-destructive text-center",children:l}),!i&&r&&n&&o&&(0,a.jsx)(F,{videos:r,subjs:n,topics:o,selected:e,setSelected:t,loading:i})]})}},3476:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437),n=r(7440);function s(e){let{children:t,className:r}=e;return(0,a.jsx)("p",{className:(0,n.cn)(r,"leading-7 [&:not(:first-child)]:mt-6"),children:t})}},9375:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437),n=r(7440);function s(e){let{children:t,className:r}=e;return(0,a.jsx)("h3",{className:(0,n.cn)("scroll-m-20 text-2xl font-semibold tracking-tight",r),children:t})}},495:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return d}});var a=r(7437),n=r(2265),s=r(1538),o=r(2218),i=r(7440);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:n,size:o,className:r})),ref:t,...c})});d.displayName="Button"},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var a=r(7437),n=r(2265),s=r(7440);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},8398:function(e,t,r){"use strict";r.d(t,{di:function(){return f},e8:function(){return c},fu:function(){return p},mY:function(){return l},rb:function(){return u},sZ:function(){return d}});var a=r(7437),n=r(2265),s=r(6876),o=r(4817),i=r(7440);r(837);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.mY,{ref:t,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...n})});l.displayName=s.mY.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)("div",{className:"flex items-center px-3 border-b","cmdk-input-wrapper":"",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2 opacity-50 shrink-0"}),(0,a.jsx)(s.mY.Input,{ref:t,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...n})]})});d.displayName=s.mY.Input.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.mY.List,{ref:t,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...n})});c.displayName=s.mY.List.displayName;let u=n.forwardRef((e,t)=>(0,a.jsx)(s.mY.Empty,{ref:t,className:"py-6 text-sm text-center",...e}));u.displayName=s.mY.Empty.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.mY.Group,{ref:t,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...n})});p.displayName=s.mY.Group.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.mY.Separator,{ref:t,className:(0,i.cn)("-mx-1 h-px bg-border",r),...n})}).displayName=s.mY.Separator.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.mY.Item,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",r),...n})});f.displayName=s.mY.Item.displayName},837:function(e,t,r){"use strict";r.d(t,{$N:function(){return m},Be:function(){return x},Vq:function(){return l},cZ:function(){return p},fK:function(){return f},hg:function(){return d}});var a=r(7437),n=r(2265),s=r(3304),o=r(4697),i=r(7440);let l=s.fC,d=s.xz,c=s.h_;s.x8;let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});u.displayName=s.aV.displayName;let p=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.VY,{ref:t,className:(0,i.cn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...l,children:[n,(0,a.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=s.VY.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};f.displayName="DialogHeader";let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});m.displayName=s.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});x.displayName=s.dk.displayName},3102:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var a=r(7437),n=r(2265),s=r(7440);let o=n.forwardRef((e,t)=>{let{className:r,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},7135:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(7437),n=r(2265),s=r(8364),o=r(2218),i=r(7440);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,i.cn)(l(),r),...n})});d.displayName=s.f.displayName},9573:function(e,t,r){"use strict";r.d(t,{J2:function(){return i},xo:function(){return l},yk:function(){return d}});var a=r(7437),n=r(2265),s=r(1485),o=r(7440);let i=s.fC,l=s.xz,d=n.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:i=4,...l}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsx)(s.VY,{ref:t,align:n,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});d.displayName=s.VY.displayName},4344:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),n=r(2265),s=r(8484),o=r(7440);let i=n.forwardRef((e,t)=>{let{className:r,orientation:n="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(s.f,{ref:t,decorative:i,orientation:n,className:(0,o.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",r),...l})});i.displayName=s.f.displayName},5657:function(e,t,r){"use strict";r.d(t,{pm:function(){return p}});var a=r(2265);let n=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function p(){let[e,t]=a.useState(d);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},592:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(7437),n=r(2265),s=r(3102),o=r(495),i=r(6884),l=r(3418),d=r.n(l),c=r(5657);function u(e){let{link:t,input:r=!0}=e,{toast:l}=(0,c.pm)(),[u,p]=(0,n.useState)(!1),f=async()=>{try{await d()(t),p(!0),l({title:"Link copiato negli appunti",description:"Il link del video \xe8 stato copiato con successo"})}catch(e){l({variant:"destructive",title:"Impossibile copiare il link",description:"Impossibile copiare il link del video negli appunti, riprova pi\xf9 tardi"}),console.error("Failed to copy",e)}};return r?(0,a.jsxs)("div",{className:"w-[60%] pb-4 m-auto relative",children:[(0,a.jsx)(s.I,{readOnly:!0,placeholder:"https://youtube.com/...",className:"m-auto",id:"link"}),(0,a.jsx)(o.z,{onClick:f,className:"absolute top-0 right-0 border border-l-0 rounded-s-none",variant:"secondary",children:(0,a.jsx)(i.Z,{})})]}):(0,a.jsx)(o.z,{onClick:f,variant:"outline",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})})}},6956:function(e,t,r){"use strict";r.d(t,{$8:function(){return l},h8:function(){return o},kS:function(){return i},x4:function(){return n},z2:function(){return s}});var a=r(3375);async function n(e){let{email:t,password:r}=e,a=new URLSearchParams;a.append("email",t),a.append("password",r);let n=await fetch("./php/auth.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString()});if(!n.ok&&403!==n.status)return Error("Impossibile effettuare il login, riprova pi\xf9 tardi");let{sessionID:s,access:o}=await n.json();return"granted"!==o?Error("Credenziali non valide"):"granted"===o?s:void 0}async function s(e){let{name:t,surname:r,email:a,password:n}=e;if(!l())return Error("Impossibile creare un utente senza essere loggato");let s=new URLSearchParams;s.append("nome",t),s.append("cognome",r),s.append("email",a),s.append("password",n);let o=await fetch("./php/createUser.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()});if(!o.ok)return Error("Impossibile creare l'utente, riprova pi\xf9 tardi");let{result:i,error:d}=await o.json();return"failure"===i?"effettuare il login prima"===d?Error("Impossibile creare l'utente, effettua il login"):Error("Impossibile creare l'utente, riprova pi\xf9 tardi"):"success"===i?{result:i,error:d}:Error(JSON.stringify({result:i,error:d}))}async function o(e){let{name:t,surname:r}=e;if(!l())return Error("Impossibile rimuovere un utente senza essere loggato");let a=new URLSearchParams;a.append("nome",t),a.append("cognome",r);let n=await fetch("./php/deleteUser.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString()});if(!n.ok)return Error("Errore nella risposta");let{result:s,error:o}=await n.json();return"user not found"===o||"missing id"===o?Error("Utente non trovato"):"effettuare prima il login"===o?Error("Effettua il login"):"success"===s||Error("Errore nella risposta")}function i(){return(0,a.deleteCookie)("PHPSESSID")}function l(){return!!(0,a.getCookie)("PHPSESSID")}},1250:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(2265);function n(){let[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{t(!0),n(null);try{let e=await fetch("./php/datiHome.php?getMaterie",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch subjects");let t=await e.json();o(["all",...t.map(e=>e.nome.toLowerCase())]),n(null)}catch(e){n("".concat(e.message,", please try again"))}t(!1)})()},[]),{loading:e,error:r,data:s}}},2874:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(2265);function n(){let[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{t(!0),n(null);try{let e=await fetch("./php/datiHome.php?getArgomenti",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch topics");let t=await e.json(),r=new Map;for(let{nomeArgomento:e,materia:a}of t){let t=a.toLowerCase(),n=e.toLowerCase();if(!r.has(t)){r.set(t,new Set([n]));continue}r.set(t,r.get(t).add(n))}o(r),n(null)}catch(e){n("".concat(e.message,", please try again"))}t(!1)})()},[]),{loading:e,error:r,data:s}}},7114:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(2265);function n(e){let{query:t=""}=e,[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{n(!0),o(null);try{let e=await fetch("./php/datiHome.php?".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch videos");let r=await e.json();l(r.map(e=>({title:e.titolo,description:e.descrizione,duration:e.durata,author:e.autore,link:e.link,thumbnail:e.image,language:e.lingua}))),o(null)}catch(e){o("".concat(e.message,", please try again"))}n(!1)})()},[t]),{loading:r,error:s,data:i}}},9745:function(e,t,r){"use strict";r.d(t,{default:function(){return f}});var a=r(7437),n=r(6463),s=r(2265),o=r(6956);let i=["/((?!.+\\.[\\w]+$|_next).*)","/","/(api|trpc)(.*)"],l=["./php/createVideo.php","./php/createUser.php","./php/deleteVideo.php","./php/deleteUser.php"],d=["./php/auth.php","./php/datiHome.php"],c=["./nuovo-video","./nuovo-utente","./rimuovi-video","./rimuovi-utente"],u=["./accedi"],p=(0,s.createContext)({});function f(e){let{children:t}=e,r=(0,n.useRouter)(),f=(0,n.usePathname)(),[m,x]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{x(!0),function(e){let{pathname:t,router:r}=e,a=(0,o.$8)(),n=l.some(e=>t.match(e)),s=(d.some(e=>t.startsWith(e)),c.some(e=>t.match(e))),p=u.some(e=>t.match(e));!a&&(n||s)?r.push("./accedi"):p&&a?r.push("./"):i.some(e=>t.match(e))}({pathname:f,router:r}),x(!1)},[r,f]),(0,a.jsx)(p.Provider,{value:{waitingRouting:m},children:!m&&t})}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(4839),n=r(6164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[310,353,631,127,304,660,531,740,971,23,744],function(){return e(e.s=7198)}),_N_E=e.O()}]);